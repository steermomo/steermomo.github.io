<!DOCTYPE html>
<html lang="en">

<head>
        <meta name="google-site-verification" content="d0pvXqLPH8JyCfWVyhZ7njhGUndRFIR95YM3myMb7rU" />
        <meta charset="utf-8" />
        <meta http-equiv="Cache-Control" content="no-transform" />
        <meta http-equiv="Cache-Control" content="no-siteapp" />
        <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=yes" />
        <title>EPI-Sorting</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
        <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>


        <link rel="stylesheet" href="//unpkg.com/heti/umd/heti.min.css">

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <!-- <h1><a href="/">steer </a></h1> -->
                <nav>
                        <ul>
                                <li><a href="/">ğŸ¦‰</a></li>
                                <li><a href="/blog">Blog</a></li>
                                <li><a href="/archives">Archives</a></li>
                                <li><a href="/gallery">Gallery</a></li>
                                <li id="navName">steer </li>
                        </ul>
                </nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/blog/2020/04/epi-Sorting" rel="bookmark" title="Permalink to EPI-Sorting">EPI-Sorting</a>
      </h1>
    </header>

    <div class="entry-content">
<div class="post-meta">
        Date: <span >
               2020-04-19 Sun
        </span>
<span>Category: <a href="/category/leetcode/">LeetCode</a></span>
<!-- <p>tags: <a href="/tags/epi/">EPI</a> <a href="/tags/cpp/">cpp</a> </p> -->

</div><!-- /.post-info -->

      <p>å¾ˆä¹…å¾ˆä¹…ä»¥å‰ï¼Œæœ‰äººåˆ·é¢˜ä¸åšè®°å½•ï¼Œæ²¡åˆ·è¿‡Sortingã€‚</p>
<p><img src="/images/what.jfif" style="max-width: 80%"></p>
<p>è¿™é‡Œè®°å½•ä¸€ä¸‹åš<strong>Elements of Programming Interviews</strong>çš„é¢˜ç›®ï¼Œé¿å…å››å¹´ä¹‹åè¿˜æ²¡åˆ·è¿‡Sortingã€‚</p>
<p>[TOC]</p>
<h2>Sorting</h2>
<p>å¯¹äºå°å‹æ•°ç»„ï¼ˆ10-ï¼‰ï¼Œæ’å…¥æ’åºæ›´å®¹æ˜“å®ç°ï¼Œé€Ÿåº¦æ›´å¿«ã€‚</p>
<p>å¦‚æœæ˜¯ä¸€å°éƒ¨åˆ†ä¸åŒçš„å…ƒç´ ï¼Œ(å¦‚0-255), è®¡æ•°æ’åºæ›´é€‚åˆ.</p>
<p>å¦‚æœæœ‰å¤§é‡é‡å¤çš„å…ƒç´ ,å¯ä»¥å°†å…¶ä¸²åˆ°BSTä¸­.</p>
<p>å¤§å¤šæ•°æ’åºæ˜¯ä¸ç¨³å®šçš„, ç²¾å¿ƒå®ç°çš„å½’å¹¶æ’åºå¯ä»¥å®ç°ç¨³å®šæ’åº.</p>
<p>å¤§å¤šæ•°æ’åºéƒ½åŸºäºå…ƒç´ çš„ä¸¤ä¸¤æ¯”è¾ƒ.</p>
<h3>åº“å‡½æ•°</h3>
<div class="highlight"><pre><span></span><code><span class="c1">//sort() æ•°ç»„æ’åº</span>
<span class="c1">//list::sort() é“¾è¡¨æ’åº</span>
</code></pre></div>

<ul>
<li><code>sort()</code>å’Œ<code>list::sort()</code>éƒ½éœ€è¦å®ç°è¿ç®—ç¬¦é‡è½½<code>operator&lt;()</code>æˆ–æŒ‡å®šæ¯”è¾ƒå‡½æ•°</li>
</ul>
<p>æ’åºé—®é¢˜æœ‰ä¸¤ç§:</p>
<ul>
<li>ä½¿ç”¨æ’åºä½¿åç»­çš„ç®—æ³•æ›´ç®€å•</li>
<li>ä½¿ç”¨åº“å‡½æ•°å³å¯</li>
<li>å®ç°è‡ªå®šä¹‰çš„æ’åºè¦æ±‚</li>
<li>ä½¿ç”¨BST, heap,ç´¢å¼•æ•°ç»„ç­‰.</li>
</ul>
<h3>Compute the intersection of two sorted arrays</h3>
<p>A natural implementation for a search engine is to retrieve documents that match the set of words in a query by maintaining an inverted index. Each page is assigned an integer identifier , its document - ID . An inverted index is a mapping that takes a word w and returns a sorted array of page - ids which contain zv the sort order could be , for example , the page rank in descending order. When a query contains multiple words , the search engine finds the sorted array for each word and then computes the intersection of these arrays these are the pages containing all the words in the query . The most computationally intensive step of doing this is finding the intersection of the sorted arrays .</p>
<p>Write a program which takes as input two sorted arrays , and returns a new array containing elements that are present in both of the input arrays . The input arrays may have duplicate entries , but the returned array should be free of duplicates . For example , the input is ( 2 , 3 , 3 , 5 , 5 , 6 , 7 , 7 , 8 , 12 ) and ( 5 , 5 , 6 , 8, 8, 9, 10 , 10 ) , your output should be ( 5 , 6, 8 ) .</p>
<p>å€’æ’ç´¢å¼•ä¸­çš„äº¤å‰é¡¹æŸ¥æ‰¾ã€‚</p>
<p>è¿™ä¸ªå°±ç±»ä¼¼ä¹‹å‰çš„æœ‰åºé“¾è¡¨çš„å½’å¹¶ã€‚</p>
<div class="highlight"><pre><span></span><code><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">IntersectTwoSortedArrays</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">A</span><span class="p">,</span>
<span class="w">                                     </span><span class="k">const</span><span class="w"> </span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">B</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// TODO - you fill in here.</span>
<span class="w">  </span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">a_st</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">b_st</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">a_st</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">b_st</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">B</span><span class="p">.</span><span class="n">size</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">a_st</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">B</span><span class="p">[</span><span class="n">b_st</span><span class="p">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">ret</span><span class="p">.</span><span class="n">back</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="n">a_st</span><span class="p">]))</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="n">ret</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">a_st</span><span class="p">]);</span>
<span class="w">          </span><span class="o">++</span><span class="n">a_st</span><span class="p">,</span><span class="w"> </span><span class="o">++</span><span class="n">b_st</span><span class="p">;</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">a_st</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">B</span><span class="p">[</span><span class="n">b_st</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="o">++</span><span class="n">a_st</span><span class="p">;</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="o">++</span><span class="n">b_st</span><span class="p">;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h3>Merge two sorted arrays</h3>
<p>è¿™ä¸ªå°±æ˜¯ä¸Šä¸€é¢˜çš„ç¿»ç‰ˆï¼Œå‡è®¾Açš„å°¾éƒ¨æœ‰è¶³å¤Ÿçš„ç©ºé—´å®¹çº³Bä¸­çš„å…ƒç´ ï¼Œ å°†æœ‰åºæ•°ç»„ABåˆå¹¶åˆ°Aä¸­ã€‚</p>
<p>é¦–å…ˆå°†Açš„å…ƒç´ éƒ½æ¬ç§»åˆ°Açš„å°¾éƒ¨ï¼Œç•™å‡ºå¤´éƒ¨çš„æ“ä½œç©ºé—´ã€‚(å¦‚æœä»å°¾éƒ¨å…ˆæ’åºå¤§å…ƒç´ çš„è¯,è¿™ä¸€æ­¥å¯ä»¥é¿å…)</p>
<p>æ—¶é—´å¤æ‚åº¦ä¸º$O(m+n)$</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">MergeTwoSortedArrays</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">B</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// TODO - you fill in here.</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">st</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">ed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">st</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">A</span><span class="p">[</span><span class="n">ed</span><span class="o">--</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="n">st</span><span class="o">--</span><span class="p">];</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="c1">//ed æŒ‡å‘ç©ºä½ç½®</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">A_st</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ed</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">B_st</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">A_curr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">A_st</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">B_st</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">B</span><span class="p">.</span><span class="n">size</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">A_st</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">B</span><span class="p">[</span><span class="n">B_st</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="n">A</span><span class="p">[</span><span class="n">A_curr</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="n">A_st</span><span class="o">++</span><span class="p">];</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="n">A</span><span class="p">[</span><span class="n">A_curr</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">B</span><span class="p">[</span><span class="n">B_st</span><span class="o">++</span><span class="p">];</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">A_st</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">A</span><span class="p">[</span><span class="n">A_curr</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="n">A_st</span><span class="o">++</span><span class="p">];</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">B_st</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">B</span><span class="p">.</span><span class="n">size</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">A</span><span class="p">[</span><span class="n">A_curr</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">B</span><span class="p">[</span><span class="n">B_st</span><span class="o">++</span><span class="p">];</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>ä»å°¾éƒ¨å¼€å§‹åˆå¹¶ï¼Œå¯ä»¥é¿å…åˆšå¼€å§‹æ—¶å¯¹Aæ•°ç»„çš„æ¬ç§»æ“ä½œ</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">MergeTwoSortedArrays</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">B</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// TODO - you fill in here.</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">A_curr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">A_st</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">B_st</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">A_st</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">B_st</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">A_st</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">B</span><span class="p">[</span><span class="n">B_st</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="n">A</span><span class="p">[</span><span class="n">A_curr</span><span class="o">--</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="n">A_st</span><span class="o">--</span><span class="p">];</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="n">A</span><span class="p">[</span><span class="n">A_curr</span><span class="o">--</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">B</span><span class="p">[</span><span class="n">B_st</span><span class="o">--</span><span class="p">];</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">B_st</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">A</span><span class="p">[</span><span class="n">A_curr</span><span class="o">--</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">B</span><span class="p">[</span><span class="n">B_st</span><span class="o">--</span><span class="p">];</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h3>Computing the h-index</h3>
<p>æ— é¢˜</p>
<h3>Remove first-name duplicates</h3>
<p>Design an efficient algorithm for removing all first - name duplicates from an array . For example , if the input is ( ( Ian , Botham ) , ( David , Gower ) , ( Ian , Bell ) , ( Ian , Chappell ) ) , one result could be (( Ian , Bell ), ( David , Gower ) ) ; ( ( David , Gower ), ( Ian , Botham ) ) would also be acceptable .</p>
<p>Hint: Bring equal items close together .</p>
<p>è·Ÿä¹‹å‰çš„åˆå¹¶ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œå…ˆåšæ’åºåå‰”é™¤ç›¸åŒçš„é¡¹ç›®ã€‚</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">EliminateDuplicate</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Name</span><span class="o">&gt;*</span><span class="w"> </span><span class="n">names</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// TODO - you fill in here.</span>
<span class="w">  </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Name</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">name_ref</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">*</span><span class="n">names</span><span class="p">;</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">sort</span><span class="p">(</span><span class="n">name_ref</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">name_ref</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">l_idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">r_idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">r_idx</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">name_ref</span><span class="p">.</span><span class="n">size</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">name_ref</span><span class="p">[</span><span class="n">r_idx</span><span class="p">].</span><span class="n">first_name</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">name_ref</span><span class="p">[</span><span class="n">l_idx</span><span class="p">].</span><span class="n">first_name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="o">++</span><span class="n">r_idx</span><span class="p">;</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="n">name_ref</span><span class="p">[</span><span class="o">++</span><span class="n">l_idx</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name_ref</span><span class="p">[</span><span class="n">r_idx</span><span class="o">++</span><span class="p">];</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">l_idx</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">name_ref</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">residual</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name_ref</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">l_idx</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">residual</span><span class="o">--</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">name_ref</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>EPIç»™äº†ä¸€ä¸ªç”¨<code>std::unique</code>å»é‡çš„æ–¹æ³•. æ ¹æ®æ–‡æ¡£çš„è¯´æ˜, è¿™æ˜¯C++17åŠC++20æ‰æ”¯æŒçš„åŠŸèƒ½. æˆ‘ç”¨çš„Clionç›®å‰åªé…ç½®äº†C++11, å°±ä¸æŠ˜è…¾äº†.</p>
<blockquote>
<p>Eliminates all but the first element from every consecutive group of equivalent elements from the range <code>[first, last)</code> and returns a past-the-end iterator for the new <em>logical</em>end of the range.</p>
<p>Removing is done by shifting the elements in the range in such a way that elements to be erased are overwritten. Relative order of the elements that remain is preserved and the <em>physical</em> size of the container is unchanged. Iterators pointing to an element between the new <em>logical</em> end and the <em>physical</em> end of the range are still dereferenceable, but the elements themselves have unspecified values. A call to <code>unique</code> is typically followed by a call to a container's <code>erase</code> method, which erases the unspecified values and reduces the <em>physical</em> size of the container to match its new <em>logical</em> size.</p>
</blockquote>
<h3>Render a calendar</h3>
<p>Consider the problem of designing an online calendaring application . One compo nent of the design is to render the calendar , i .e. , display it visually .</p>
<p>Suppose each day consists of a number of events , where an event is specified as a start time and a finish time. Individual events for a day are to be rendered as nonoverlapping rectangular regions whose sides are parallel to the X - and Y - axes. Let the X - axis correspond to time. If an event starts at time b and ends at time e , the upper and lower sides of its corresponding rectangle must be at b and e , respectively . Figure 14.1 represents a set of events.</p>
<p>Write a program that takes a set of events , and determines the maximum number of events that take place concurrently .</p>
<p>æ‰¾å‡ºæ—¥ç¨‹å®‰æ’ä¸­æœ€å¤šåŒæ—¶å‘ç”Ÿçš„äº‹ä»¶æ•°é‡ã€‚</p>
<p>~~æˆ‘ä¸å¤ªçŸ¥é“æ€ä¹ˆå¤„ç†è¿™ä¸ªé—®é¢˜ã€‚~~</p>
<p>çœ‹äº†è§£æä¹‹åï¼ŒçŸ¥é“æ˜¯æ²¡æœ‰åˆ†æå¥½é—®é¢˜ï¼Œè€æ˜¯æƒ³ç€è¦æŠŠæ—¶é—´å †å æˆç¤ºæ„å›¾ä¸­çš„æ–¹å¼ã€‚</p>
<p>æ°å½“çš„æ–¹æ³•æ˜¯æŠŠæ—¶é—´çš„startå’Œfinishä¸¤ä¸ªæ—¶é—´èŠ‚ç‚¹æ‹†åˆ†å¼€ï¼Œç„¶åæŒ‰ç…§æ—¶é—´ç‚¹æ’åºï¼ŒåŒæ—¶startäº‹ä»¶æ’åœ¨finishäº‹ä»¶å‰ã€‚è¿™æ ·é‡åˆ°ä¸€ä¸ªstartå°±å°†è®¡æ•°åŠ 1ï¼Œé‡åˆ°ä¸€ä¸ªfinishå°±å°†è®¡æ•°å‡1.</p>
<div class="highlight"><pre><span></span><code><span class="k">struct</span><span class="w"> </span><span class="nc">Event</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="n">finish</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span><span class="w"> </span><span class="nc">EndPoint</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="k">operator</span><span class="o">&lt;</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">EndPoint</span><span class="o">&amp;</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">{</span>
<span class="w">        </span><span class="c1">// å°†æ—¶é—´é å‰çš„æ‹åœ¨å‰é¢ å¦‚æœæ—¶é—´ç›¸åŒ å°†start æ’åœ¨ end å‰é¢</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">time</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">time</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">time</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">time</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="o">-&gt;</span><span class="n">isStart</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">e</span><span class="p">.</span><span class="n">isStart</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">time</span><span class="p">;</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">isStart</span><span class="p">;</span>
<span class="p">};</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">FindMaxSimultaneousEvents</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Event</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">A</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// TODO - you fill in here.</span>
<span class="w">  </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">EndPoint</span><span class="o">&gt;</span><span class="w"> </span><span class="n">E</span><span class="p">;</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">each</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">A</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">E</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span><span class="n">each</span><span class="p">.</span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">});</span>
<span class="w">      </span><span class="n">E</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span><span class="n">each</span><span class="p">.</span><span class="n">finish</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="c1">//æŒ‰ç…§æ—¶é—´æ’åº</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">sort</span><span class="p">(</span><span class="n">E</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">E</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>

<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">max_event_cnt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">event_cnt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">each</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">E</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">each</span><span class="p">.</span><span class="n">isStart</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="o">++</span><span class="n">event_cnt</span><span class="p">;</span>
<span class="w">          </span><span class="n">max_event_cnt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">event_cnt</span><span class="p">,</span><span class="w"> </span><span class="n">max_event_cnt</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="o">--</span><span class="n">event_cnt</span><span class="p">;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">max_event_cnt</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h3>Merging intervals</h3>
<p>Suppose the time during the day that a person is busy is stored as a set of disjoint time intervals. If an event is added to the person ' s calendar , the set of busy times may need to be updated .</p>
<p>In the abstract , we want a way to add an interval to a set of disjoint intervals and represent the new set as a set of disjoint intervals. For example , if the initial set of intervals is [ - 4 , - 1 ] , [ 0 , 2 ] , [ 3 , 6 ] , [ 7 , 9 ] , [ 11 , 12 ] , [ 14 , 17 ] , and the added interval is [ 1 , 8 ] , the result is [ - 4 , - 1 ] , [ 0 , 9 ] , [ 11 , 12 ] , [ 14 , 17 ] .</p>
<p>Write a program which takes as input an array of disjoint closed intervals with integer endpoints , sorted by increasing order of left endpoint , and an interval to be added , and returns the union of the intervals in the array and the added interval. Your result should be expressed as a union of disjoint intervals sorted by left endpoint .</p>
<p>Hint What is the union of two closed intervals?</p>
<p>åœ¨ä¸ç›¸äº¤çš„åŒºé—´é›†åˆä¸­æ’å…¥ä¸€ä¸ªæ–°çš„åŒºé—´ï¼Œè®¡ç®—å‡ºåˆå¹¶åçš„åŒºé—´ã€‚</p>
<p>è¿™ä¸ªæœ‰ç‚¹åƒä¸Šä¸€é¢˜çš„æ—¥ç¨‹å®‰æ’ã€‚å°†åŒºé—´çš„ä¸¤ä¸ªç«¯ç‚¹æ‹†å¼€æ’åºï¼Œç„¶åä»å·¦åˆ°å³éå†ã€‚</p>
<p>åœ¨éå†çš„è¿‡ç¨‹ä¸­æœ‰äº›åƒæ‹¬å·çš„åŒ¹é…ï¼š</p>
<ul>
<li>å¦‚æœæ˜¯å•ä¸ªåŒºé—´ï¼Œé‚£ä¹ˆé‡åˆ°ä¸€ä¸ªleftåå°±ä¼šé‡åˆ°rightï¼Œæå–å‡ºä¸€ä¸ªåŒºé—´</li>
<li>å¦‚æœæ˜¯å¤šä¸ªåŒºé—´æœ‰äº¤å‰ï¼Œå¯¹leftçš„ä¸ªæ•°è¿›è¡Œè®¡æ•°ï¼Œåªæœ‰leftçš„ä¸ªæ•°ç­‰äºrightçš„ä¸ªæ•°ï¼Œæ‰ç®—æ˜¯ä¸€ä¸ªå®Œæ•´çš„åŒºé—´ã€‚</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">struct</span><span class="w"> </span><span class="nc">Interval</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">left</span><span class="p">,</span><span class="w"> </span><span class="n">right</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">EndPoint</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="k">operator</span><span class="o">&lt;</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">EndPoint</span><span class="o">&amp;</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">point</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">point</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="n">isLeft</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">e</span><span class="p">.</span><span class="n">isLeft</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">point</span><span class="p">;</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">isLeft</span><span class="p">;</span>
<span class="p">};</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="n">Interval</span><span class="o">&gt;</span><span class="w"> </span><span class="n">AddInterval</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Interval</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">disjoint_intervals</span><span class="p">,</span>
<span class="w">                             </span><span class="n">Interval</span><span class="w"> </span><span class="n">new_interval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// TODO - you fill in here.</span>
<span class="w">  </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">EndPoint</span><span class="o">&gt;</span><span class="w"> </span><span class="n">E</span><span class="p">;</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">each</span><span class="o">:</span><span class="w"> </span><span class="n">disjoint_intervals</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">E</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span><span class="n">each</span><span class="p">.</span><span class="n">left</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">});</span>
<span class="w">      </span><span class="n">E</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span><span class="n">each</span><span class="p">.</span><span class="n">right</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="n">E</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span><span class="n">new_interval</span><span class="p">.</span><span class="n">left</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">});</span>
<span class="w">  </span><span class="n">E</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span><span class="n">new_interval</span><span class="p">.</span><span class="n">right</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">});</span>

<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">sort</span><span class="p">(</span><span class="n">E</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">E</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>

<span class="w">  </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Interval</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">is_new_interval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">st</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">left_cnt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">each</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">E</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">each</span><span class="p">.</span><span class="n">isLeft</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="o">++</span><span class="n">left_cnt</span><span class="p">;</span>
<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_new_interval</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="n">st</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">each</span><span class="p">.</span><span class="n">point</span><span class="p">;</span>
<span class="w">              </span><span class="n">is_new_interval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="o">--</span><span class="n">left_cnt</span><span class="p">;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">left_cnt</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="n">ret</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span><span class="n">st</span><span class="p">,</span><span class="w"> </span><span class="n">each</span><span class="p">.</span><span class="n">point</span><span class="p">});</span>
<span class="w">          </span><span class="n">is_new_interval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>.... æˆ‘è¿™ä¸ªæ—¶é—´å¤æ‚åº¦æ˜¯$O(n\log n)$, å¦‚æœè¾“å…¥çš„åŒºé—´å·²ç»æ˜¯æœ‰åºæ’åˆ—, å¯ä»¥å°†æ—¶é—´å¤æ‚åº¦é™ä½åˆ°$O(n)$.</p>
<h3>Compute the union of intervals</h3>
<p>In this problem we consider sets of intervals with integer endpoints ; the intervals may be open or closed at either end. We want to compute the union of the intervals in such sets.</p>
<p>è¿™é¢˜åˆæ¶‰åŠåˆ°åŒºé—´å¼€é—­çš„é—®é¢˜ã€‚</p>
<p>åœ¨è§£å†³æ–¹æ³•ä¸Šå¯ä»¥ç…§æ¬ä¸Šä¸€é¢˜çš„ä»£ç ï¼Œä¹Ÿæ˜¯å°†åŒºé—´çš„ç«¯ç‚¹æ‹†å¼€æ’åºã€‚å› ä¸ºæœ‰åŒºé—´å¼€é—­çš„é—®é¢˜ï¼Œ éœ€è¦æ ¹æ®æƒ…å†µè®¨è®ºæ’åºæ¡ä»¶ã€‚</p>
<div class="highlight"><pre><span></span><code><span class="k">struct</span><span class="w"> </span><span class="nc">Interval</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">struct</span><span class="w"> </span><span class="nc">Endpoint</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">is_closed</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="n">Endpoint</span><span class="w"> </span><span class="n">left</span><span class="p">,</span><span class="w"> </span><span class="n">right</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span><span class="w"> </span><span class="nc">Point</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="k">operator</span><span class="o">&lt;</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">Point</span><span class="o">&amp;</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="c1">//        return val != p.val ? val &lt; p.val : (is_left &amp;&amp; !p.is_left);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">val</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="c1">// å…ƒç´ ç›¸ç­‰ ä¸¤ä¸ªéƒ½æ˜¯å¼€åŒºé—´</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">is_closed</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">p</span><span class="p">.</span><span class="n">is_closed</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// ä¸€å‰ä¸€å å°†right æ”¾åœ¨leftå‰</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="o">!</span><span class="n">is_left</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">is_left</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// å…ƒç´ ç›¸ç­‰ ä¸€å¼€ä¸€é—­ éƒ½æ˜¯right å¼€åŒºé—´æ”¾å‰</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">is_left</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">p</span><span class="p">.</span><span class="n">is_left</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="o">!</span><span class="n">is_closed</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">is_closed</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="c1">// å…ƒç´ ç›¸ç­‰ ä¸€å¼€ä¸€é—­ éƒ½æ˜¯left é—­åŒºé—´æ”¾å‰</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_left</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">is_left</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">is_closed</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">p</span><span class="p">.</span><span class="n">is_closed</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="c1">// å…ƒç´ ç›¸ç­‰ ä¸€å¼€ä¸€é—­ leftæ”¾åœ¨rightå‰</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">is_left</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">p</span><span class="p">.</span><span class="n">is_left</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">is_left</span><span class="p">;</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">is_closed</span><span class="p">;</span>
<span class="p">};</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="n">Interval</span><span class="o">&gt;</span><span class="w"> </span><span class="n">UnionOfIntervals</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Interval</span><span class="o">&gt;</span><span class="w"> </span><span class="n">intervals</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// TODO - you fill in here.</span>
<span class="w">  </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span><span class="w"> </span><span class="n">P</span><span class="p">;</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">each</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">intervals</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">P</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span><span class="n">each</span><span class="p">.</span><span class="n">left</span><span class="p">.</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="n">each</span><span class="p">.</span><span class="n">left</span><span class="p">.</span><span class="n">is_closed</span><span class="p">});</span>
<span class="w">      </span><span class="n">P</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span><span class="n">each</span><span class="p">.</span><span class="n">right</span><span class="p">.</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span><span class="w"> </span><span class="n">each</span><span class="p">.</span><span class="n">right</span><span class="p">.</span><span class="n">is_closed</span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">sort</span><span class="p">(</span><span class="n">P</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">P</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
<span class="w">  </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Interval</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>

<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">is_new_intervals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="n">left_closed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">left_idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">left_cnt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">each</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">P</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">each</span><span class="p">.</span><span class="n">is_left</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">++</span><span class="n">left_cnt</span><span class="p">;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_new_intervals</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">left_idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">each</span><span class="p">.</span><span class="n">val</span><span class="p">;</span>
<span class="w">            </span><span class="n">left_closed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">each</span><span class="p">.</span><span class="n">is_closed</span><span class="p">;</span>
<span class="w">            </span><span class="n">is_new_intervals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">--</span><span class="n">left_cnt</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">left_cnt</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ret</span><span class="p">.</span><span class="n">push_back</span><span class="p">({{</span><span class="n">left_closed</span><span class="p">,</span><span class="w"> </span><span class="n">left_idx</span><span class="p">},{</span><span class="n">each</span><span class="p">.</span><span class="n">is_closed</span><span class="p">,</span><span class="w"> </span><span class="n">each</span><span class="p">.</span><span class="n">val</span><span class="p">}});</span>
<span class="w">        </span><span class="n">is_new_intervals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h3>Partitioning and sorting an array with many repeated entries</h3>
<p>Suppose you need to reorder the elements of a very large array so that equal elements appear together . For example , if the array is ( b , a , c , b , d , a , b , d ) then ( a , a , b , b , b , c , d , d ) is an acceptable reordering , as is ( d, d , c , a,a , b , b , b ) .</p>
<p>If the entries are integers , this reordering can be achieved by sorting the array . If the number of distinct integers is very small relative to the size of the array , an efficient approach to sorting the array is to count the number of occurrences of each distinct integer and write the appropriate number of each integer , in sorted order , to the array . When array entries are objects , with multiple fields , only one of which is to be used as a key , the problem is harder to solve.</p>
<p>You are given an array of student objects . Each student has an integer - valued age field that is to be treated as a key . Rearrange the elements of the array so that students of equal age appear together . The order in which different ages appear is not important . How would your solution change if ages have to appear in sorted order?</p>
<p>Hint Count the number of students for each age .</p>
<p>å°†å­¦ç”Ÿå¯¹è±¡æŒ‰ç…§å¹´é¾„è¿›è¡Œèšç±»ã€‚</p>
<p>å› ä¸ºå¹´é¾„é›†ä¸­åœ¨æŸä¸ªåŒºé—´å†…ï¼Œå¯¹å…¨éƒ¨çš„å­¦ç”Ÿè¿›è¡Œæ’åºéœ€è¦$O(n\log n)$çš„æ—¶é—´å¤æ‚åº¦. æ’åºçš„ä¿¡æ¯ä¹Ÿä¸æ˜¯å¿…è¦çš„.</p>
<p>ä¸‹é¢çš„åšæ³•æ˜¯$O(n)$çš„æ—¶é—´å¤æ‚åº¦, ä½†æ˜¯ä¹Ÿç”¨äº†$O(n)$çš„ç©ºé—´.</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">GroupByAge</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;*</span><span class="w"> </span><span class="n">people</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// TODO - you fill in here</span>
<span class="w">  </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">p_ref</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">*</span><span class="n">people</span><span class="p">;</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">unordered_map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">age_to_name</span><span class="p">;</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">each</span><span class="o">:</span><span class="w"> </span><span class="n">p_ref</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">age_to_name</span><span class="p">[</span><span class="n">each</span><span class="p">.</span><span class="n">age</span><span class="p">].</span><span class="n">emplace_back</span><span class="p">(</span><span class="n">each</span><span class="p">.</span><span class="n">name</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">c_idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">each</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">age_to_name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">name</span><span class="o">:</span><span class="w"> </span><span class="n">each</span><span class="p">.</span><span class="n">second</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="n">p_ref</span><span class="p">[</span><span class="n">c_idx</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">each</span><span class="p">.</span><span class="n">first</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">};</span>
<span class="w">      </span><span class="p">}</span>

<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>ä¸ºäº†å°†æ“ä½œæ”¹ä¸ºåŸåœ°ç½®æ¢ï¼Œéœ€è¦å¦å¤–ä¸€ä¸ªtableè®°å½•æ¯ä¸ªageçš„offsetã€‚è¿™æ ·æ¯æ¬¡æ‰¾åˆ°ä¸€ä¸ªå¹´é¾„çš„å¯¹è±¡ï¼Œå°†å…¶ç½®æ¢åˆ°æŒ‡å®šçš„offsetä¸Šå»ã€‚</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">GroupByAge</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;*</span><span class="w"> </span><span class="n">people</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// TODO - you fill in here</span>
<span class="w">  </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">p_ref</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">*</span><span class="n">people</span><span class="p">;</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">unordered_map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">age_to_cnt</span><span class="p">;</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">each</span><span class="o">:</span><span class="w"> </span><span class="n">p_ref</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="o">++</span><span class="n">age_to_cnt</span><span class="p">[</span><span class="n">each</span><span class="p">.</span><span class="n">age</span><span class="p">];</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">unordered_map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">age_to_offset</span><span class="p">;</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">each</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">age_to_cnt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">age_to_offset</span><span class="p">[</span><span class="n">each</span><span class="p">.</span><span class="n">first</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">offset</span><span class="p">;</span>
<span class="w">      </span><span class="n">offset</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">each</span><span class="p">.</span><span class="n">second</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">c_idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">age_to_offset</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// å°†from çš„å…ƒç´ æ›¿æ¢åˆ°to</span>
<span class="w">      </span><span class="k">auto</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">age_to_offset</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
<span class="w">      </span><span class="c1">// æ‰¾åˆ°fromå¤„å¹´é¾„å¯¹åº”çš„offsetä½ç½®çš„å…ƒç´ çš„å¹´é¾„</span>
<span class="w">      </span><span class="k">auto</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">age_to_offset</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">p_ref</span><span class="p">[</span><span class="n">from</span><span class="o">-&gt;</span><span class="n">second</span><span class="p">].</span><span class="n">age</span><span class="p">);</span>
<span class="w">      </span><span class="c1">// ä¸Šä¸€æ­¥æ‰¾åˆ°ä¸¤ä¸ªå¹´é¾„çš„offset, å°†fromæ›¿æ¢åˆ°toï¼Œ æ­¤æ—¶toä½ç½®çš„å…ƒç´ å¤„äºæ­£ç¡®çš„ä½ç½®ï¼Œ è€Œfromæœªå¿…</span>
<span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">p_ref</span><span class="p">[</span><span class="n">from</span><span class="o">-&gt;</span><span class="n">second</span><span class="p">],</span><span class="w"> </span><span class="n">p_ref</span><span class="p">[</span><span class="n">to</span><span class="o">-&gt;</span><span class="n">second</span><span class="p">]);</span>

<span class="w">      </span><span class="o">--</span><span class="n">age_to_cnt</span><span class="p">[</span><span class="n">to</span><span class="o">-&gt;</span><span class="n">first</span><span class="p">];</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">age_to_cnt</span><span class="p">[</span><span class="n">to</span><span class="o">-&gt;</span><span class="n">first</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="o">++</span><span class="n">age_to_offset</span><span class="p">[</span><span class="n">to</span><span class="o">-&gt;</span><span class="n">first</span><span class="p">];</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="n">age_to_offset</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">to</span><span class="o">-&gt;</span><span class="n">first</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h3>Team photo day---1</h3>
<p>You are a photographer for a soccer meet. You will be taking pictures of pairs of opposing teams. All teams have the same number of players . A team photo consists of a front row of players and a back row of players . A player in the back row must be taller than the player in front of him , as illustrated in Figure 14.3. All players in a row must be from the same team.</p>
<p>Design an algorithm that takes as input two teams and the heights of the players in the teams and checks if it is possible to place players to take the photo subject to the placement constraint.</p>
<p>~~è¿™ä¸ªé¢˜ä¸å…è®¸æ’åº...è™½ç„¶å¯ä»¥å¼€æ–°ç©ºé—´å¤åˆ¶å…ƒç´ åæ’åºã€‚~~</p>
<p>.....</p>
<p>å±…ç„¶å°±æ˜¯å¤åˆ¶åæ’åº...</p>
<p><img src="/images/what.jfif" style="max-width: 80%"></p>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="c1">// Checks if team0 can be placed in front of team1.</span>
<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">ValidPlacementExists</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">Team</span><span class="o">&amp;</span><span class="w"> </span><span class="n">team0</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Team</span><span class="o">&amp;</span><span class="w"> </span><span class="n">team1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// TODO - you fill in here.</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">team0_sort</span><span class="p">(</span><span class="n">team0</span><span class="p">.</span><span class="n">players_</span><span class="p">);</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">team1_sort</span><span class="p">(</span><span class="n">team1</span><span class="p">.</span><span class="n">players_</span><span class="p">);</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">sort</span><span class="p">(</span><span class="n">team0_sort</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">team0_sort</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">sort</span><span class="p">(</span><span class="n">team1_sort</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">team1_sort</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">team0_sort</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">team0_sort</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">team1_sort</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
</code></pre></div>

<h3>Implement a fast sorting algorithm for lists</h3>
<p>Implement a routine which sorts lists efficiently . It should be a stable sort , i .e. , the relative positions of equal elements must remain unchanged .</p>
<p>Hint: In what respects are lists superior to arrays ?</p>
<p>å¿«æ’å¯ä»¥åŸåœ°æ“ä½œï¼Œä½†ä¸æ˜¯ç¨³å®šæ’åºã€‚å½’å¹¶æ’åºæ˜¯ç¨³å®šæ’åºï¼Œä½†éœ€è¦é¢å¤–çš„ç©ºé—´ã€‚å¯¹äºæ•°ç»„æ¥è¯´ï¼Œè¿™ä¸¤ä¸ªæ¡ä»¶ä¸èƒ½åŒæ—¶æ»¡è¶³ã€‚</p>
<p>å¯¹äºé“¾è¡¨æ¥è¯´ï¼Œå¯ä»¥ä½¿ç”¨å½’å¹¶æ’åºæ¥ä¿è¯ç¨³å®šæ€§ï¼ŒåŒæ—¶å¯¹é“¾è¡¨çš„åˆå¹¶å¯ä»¥åŸåœ°æ“ä½œã€‚</p>
<div class="highlight"><pre><span></span><code><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">ListNode</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">MergeTwoSortList</span><span class="p">(</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">ListNode</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">L0</span><span class="p">,</span><span class="w"> </span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">ListNode</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">L1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">dummy_head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">make_shared</span><span class="o">&lt;</span><span class="n">ListNode</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="n">ListNode</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="k">nullptr</span><span class="p">});</span>

<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dummy_head</span><span class="p">;</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">L0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">L1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">L0</span><span class="o">-&gt;</span><span class="n">data</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">L1</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">ptr</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L0</span><span class="p">;</span>
<span class="w">            </span><span class="n">L0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L0</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">ptr</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L1</span><span class="p">;</span>
<span class="w">            </span><span class="n">L1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L1</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ptr</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">L0</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">nullptr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ptr</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ptr</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">dummy_head</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">ListNode</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">StableSortList</span><span class="p">(</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">ListNode</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">L</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// TODO - you fill in here.</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">L</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">nullptr</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">L</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">nullptr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">L</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="c1">// ç”¨å¿«æ…¢æŒ‡é’ˆæ‰¾åˆ°é“¾è¡¨ä¸­ç‚¹</span>
<span class="w">  </span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">ListNode</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">pre_slow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">,</span><span class="w"> </span><span class="n">slow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L</span><span class="p">,</span><span class="w"> </span><span class="n">fast</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L</span><span class="p">;</span>
<span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">fast</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">fast</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">pre_slow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">slow</span><span class="p">;</span>
<span class="w">      </span><span class="n">fast</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fast</span><span class="o">-&gt;</span><span class="n">next</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<span class="w">      </span><span class="n">slow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">slow</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="c1">// æ–­å¼€é“¾è¡¨</span>
<span class="w">  </span><span class="n">pre_slow</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">;</span>
<span class="w">  </span><span class="c1">// é€’å½’å½’å¹¶æ’åº</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">MergeTwoSortList</span><span class="p">(</span><span class="n">StableSortList</span><span class="p">(</span><span class="n">L</span><span class="p">),</span><span class="w"> </span><span class="n">StableSortList</span><span class="p">(</span><span class="n">slow</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div>

<h3>Compute a salary threshold</h3>
<p>You are working in the finance office for ABC corporation . ABC needs to cut payroll expenses to a specified target . The chief executive officer wants to do this by putting a cap on last year ' s salaries. Every employee who earned more than the cap last year will be paid the cap this year ; employees who earned no more than the cap will see no change in their salary .</p>
<p>For example , if there were five employees with salaries last year were \$ 90 ,\$ 30 , \$ 100 , \$ 40 , and \$ 20 , and the target payroll this year is \$ 210 , then 60 is a suitable salary cap , since 60 + 30 + 60 + 40 + 20 = 210.</p>
<p>å…¬å¸è¦æ‰£é’±äº†ï¼Œè®¡åˆ’ä»è–ªæ°´æ¯”è¾ƒé«˜çš„äººä¸­æ”¶å‰²ï¼Œå‡¡æ˜¯è–ªæ°´é«˜äºcapçš„ï¼Œåªå‘capï¼Œä¸ºäº†ä½¿æ€»æ”¯å‡ºè¾¾åˆ°target_payrollã€‚</p>
<p>æˆ‘æœ¬æ¥æ˜¯ç”¨äº†ä¸€ä¸ªtableå»è®°å½•é«˜äºxxçš„è–ªæ°´æœ‰å¤šå°‘äººï¼Œç„¶åè®©capä»0åˆ°maximumè¿­ä»£ã€‚</p>
<p>åœ¨å®é™…æ“ä½œä¸Šï¼Œä¸€ä¸ªæ˜¯&gt;å¤šå°‘åœ¨hash tableä¸­ä¸å¯æ“ä½œ,å¦ä¸€æ˜¯capæ˜¯æµ®ç‚¹æ•°, æ²¡æ³•è¿­ä»£.</p>
<p>æ°å½“çš„æ–¹å¼æ˜¯å¯¹salaryæ’åºå, æ¯æ¬¡è®©capè·³ä¸€ä¸ªå±‚çº§.</p>
<div class="highlight"><pre><span></span><code><span class="kt">double</span><span class="w"> </span><span class="nf">FindSalaryCap</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">target_payroll</span><span class="p">,</span><span class="w"> </span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">current_salaries</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// TODO - you fill in here.</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">sort</span><span class="p">(</span><span class="n">current_salaries</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">current_salaries</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
<span class="w">  </span><span class="c1">// å½“å‰capä¸‹çš„è–ªæ°´å’Œ</span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">unadjusted_salary_sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.</span><span class="p">;</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">current_salaries</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// capä»¥ä¸Šçš„è–ªæ°´å’Œ</span>
<span class="w">      </span><span class="k">const</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">adjusted_salary_sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">current_salaries</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">current_salaries</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">i</span><span class="p">);</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">unadjusted_salary_sum</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">adjusted_salary_sum</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">target_payroll</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">target_payroll</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">unadjusted_salary_sum</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="n">current_salaries</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">i</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="n">unadjusted_salary_sum</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">current_salaries</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
    </div><!-- /.entry-content -->


  </article>


</section>

<div id="comments">
  <h2 style="margin-top: 0.1rem;">Comments !</h2>
  <div id="gitalk-container"></div>
</div>
<script>
  var gitalk = new Gitalk({
    clientID: '4dfbf5aad180623dc634',
    clientSecret: '4c7167883746062103d9dbc2ec8b1ddfd6780d58',
    repo: 'steermomo.github.io',
    owner: 'steermomo',
    admin: ['steermomo'],
    id: location.pathname,      // Ensure uniqueness and length less than 50
    distractionFreeMode: false,  // Facebook-like distraction free mode
    createIssueManually: true,
  })
  gitalk.render('gitalk-container')
</script>
        <section id="extras" class="body">
        </section><!-- /#extras -->
<footer id="contentinfo" class="body">
  <address id="about" class="vcard body">
    Copyright Â© 2024
    </br>
    Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a
      href="http://python.org">Python</a>.
  </address>

  <!-- /#about -->


</footer><!-- /#contentinfo -->



</body>

</html>