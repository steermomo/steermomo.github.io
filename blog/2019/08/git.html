<!DOCTYPE html>
<html lang="en">

<head>
        <meta name="google-site-verification" content="d0pvXqLPH8JyCfWVyhZ7njhGUndRFIR95YM3myMb7rU" />
        <meta charset="utf-8" />
        <meta http-equiv="Cache-Control" content="no-transform" />
        <meta http-equiv="Cache-Control" content="no-siteapp" />
        <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=yes" />
        <title>Introduction to Git for Data Science</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
        <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>


        <link rel="stylesheet" href="//unpkg.com/heti/umd/heti.min.css">

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <!-- <h1><a href="/">steer </a></h1> -->
                <nav>
                        <ul>
                                <li><a href="/">🦉</a></li>
                                <li><a href="/blog">Blog</a></li>
                                <li><a href="/archives">Archives</a></li>
                                <li><a href="/gallery">Gallery</a></li>
                                <li id="navName">steer </li>
                        </ul>
                </nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/blog/2019/08/git" rel="bookmark" title="Permalink to Introduction to Git for Data Science">Introduction to Git for Data Science</a>
      </h1>
    </header>

    <div class="entry-content">
<div class="post-meta">
        Date: <span >
               2019-08-26 Mon
        </span>
<span>Category: <a href="/category/misc/">misc</a></span>
<!-- <p>tags: <a href="/tags/git/">Git</a> </p> -->

</div><!-- /.post-info -->

      <p>这个课程我觉得还是有些用处的, 虚拟环境用起来也很方便, 很多不同的命令也可以直接实验.
代码敲完让我从只会<code>add, commit, push</code>到知道<code>stage, checkout</code>, 冲突处理.</p>
<p><img src="/images/sticker_hating.webp" style="max-width: 30%"></p>
<p><br></p>
<h3>check the state of a repository</h3>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>status
</code></pre></div>

<h3>How can I tell what I have changed?</h3>
<p><img alt="image.png" src="http://ww1.sinaimg.cn/large/dd456925ly1g6l70rjylhj20jx0a3dgl.jpg"></p>
<p>git status shows you which files are in this staging area, and which files have changes that haven't yet been put there.</p>
<h3>What is in a diff?</h3>
<blockquote>
<p>diff --git a/report.txt b/report.txt<br>
index e713b17..4c0742a 100644<br>
--- a/report.txt<br>
+++ b/report.txt<br>
@@ -1,4 +1,5 @@<br>
-# Seasonal Dental Surgeries 2017-18<br>
+# Seasonal Dental Surgeries (2017) 2017-18<br>
+# TODO: write new summary  </p>
</blockquote>
<ul>
<li>A line starting with @@ that tells where the changes are being made. The pairs of numbers are start line and number of lines (in that section of the file where changes occurred). This diff output indicates changes starting at line 1, with 5 lines where there were once 4.</li>
</ul>
<h3>How can I tell what's going to be committed?</h3>
<p><code>git diff -r HEAD</code><br>
The -r flag means "compare to a particular revision", and HEAD is a shortcut meaning "the most recent commit".</p>
<p><code>git diff -r HEAD path/to/file</code> </p>
<p><br></p>
<h3>How do I commit changes?</h3>
<blockquote>
<p>git commit -m "Program appears to have become self-aware."<br>
重新提交commit flag<br>
git commit --amend - m "new message"</p>
</blockquote>
<p><br></p>
<h3>How can I view a repository's history?</h3>
<p><code>git log</code></p>
<h3>How can I view a specific file's history?</h3>
<p><code>git log path</code></p>
<h3>How do I write a better log message</h3>
<p><code>git commit</code> without <code>-m "message"</code></p>
<h3>How does Git store information?</h3>
<p>blob: binary large object
<img alt="image.png" src="http://ww1.sinaimg.cn/mw690/dd456925ly1g6l7wm8fyhj207f046gll.jpg"></p>
<h3>What is a hash?</h3>
<p>Every commit to a repository has a unique identifier called a hash (since it is generated by running the changes through a pseudo-random number generator called a hash function). This hash is normally written as a 40-character hexadecimal string like <code>7c35a3ce607a14953f070f0f83b5d74c2296ef93</code>, but most of the time, you only have to give Git the first 6 or 8 characters in order to identify the commit you mean.</p>
<p><br></p>
<h3>How can I view a specific commit?</h3>
<p><code>git show 0da2f7</code></p>
<p><br></p>
<h3>What is Git's equivalent of a relative path?</h3>
<p><code>HEAD</code>, <code>HEAD~1</code>, <code>HEAD~2</code>. 分别表示最新的commit, 前一个, 再前一个</p>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>show<span class="w"> </span>HEAD~1
</code></pre></div>

<p><br></p>
<h3>How can I see who changed what in a file?</h3>
<p><code>git annotate file</code></p>
<p><br></p>
<h3>How can I see what changed between two commits?</h3>
<p><code>git diff ID1..ID2</code>, 两个点需要打, 不是省略号</p>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>diff<span class="w"> </span>HEAD..HEAD~2
</code></pre></div>

<p><br></p>
<h3>How do I add new files?</h3>
<p><code>git add file</code></p>
<p><br></p>
<h3>How do I tell Git to ignore certain files?</h3>
<p><code>.gitignore</code> file.</p>
<p><br></p>
<h3>How can I remove unwanted files?</h3>
<p><code>git clean -n</code>,  show you a list of files that are in the repository, but whose history Git is not currently tracking.</p>
<p><code>git clean -f</code> will then delete those files.</p>
<p><br></p>
<h3>How can I see how Git is configured?</h3>
<p><code>git config --list</code> </p>
<p>附加选项
- <code>--system</code>: for all users on the computer
- <code>--global</code>: per-user
- <code>--local</code>: per-projece</p>
<p>类似于变量名的局部屏蔽, 每一层都会覆盖上一层</p>
<p><br></p>
<h3>How can I change my Git configuration?</h3>
<blockquote>
<p>git config --global setting value</p>
</blockquote>
<p><code>user.name</code>, <code>user.email</code>.</p>
<h3>How can I commit changes selectively?</h3>
<p>If you make a mistake and accidentally stage a file you shouldn't have, you can unstage the additions with <code>git reset HEAD</code> and try again.</p>
<p><br></p>
<h2>Chapter 3, 'Undo'</h2>
<h3>How do I re-stage files?</h3>
<p>在<code>add</code>之后又再次编辑了文件
直接<code>git add</code></p>
<h3>How can I undo changes to unstaged files?</h3>
<blockquote>
<p>git checkout -- filename
unstaged file 意味着未被add</p>
</blockquote>
<p>Use this command carefully: once you discard changes in this way, they are gone forever.</p>
<p><br></p>
<h3>How can I undo changes to staged files?</h3>
<p>reset HEAD 用于撤销add的文件, 然后使用checkout拉出unstaged文件的上一个状态.</p>
<blockquote>
<p>git reset HEAD path/to/file
git checkout -- path/to/file</p>
</blockquote>
<p><br></p>
<h3>How do I restore an old version of a file?</h3>
<p>将checkout命令中的 -- 替换为版本的hash</p>
<blockquote>
<p>git checkout 2242bd report.txt</p>
</blockquote>
<p>只输出最近3次的log</p>
<blockquote>
<p>git log -3 file</p>
</blockquote>
<p><br></p>
<h3>How can I undo all of the changes I have made?</h3>
<p><code>git reset HEAD</code></p>
<p><code>git checkout -- .</code></p>
<p><br> Chapter 4, 'Working with branches'.</p>
<h3>How can I see what branches my repository has?</h3>
<p><code>git branch</code></p>
<h3>How can I view the differences between branches?</h3>
<p><code>git diff branch-1..branch-2</code></p>
<h3>How can I switch from one branch to another?</h3>
<p><code>git checkout branch-name</code></p>
<h3>How can I create a branch?</h3>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>checkout<span class="w"> </span>-b<span class="w"> </span>new-branch-name
</code></pre></div>

<h3>How can I merge two branches?</h3>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>merge<span class="w"> </span><span class="nb">source</span><span class="w"> </span>destination
<span class="c1"># without ..</span>
</code></pre></div>

<p><br></p>
<h3>How can I merge two branches with conflicts?</h3>
<p>首先合并分支</p>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>merge<span class="w"> </span>soure<span class="w"> </span>dest
</code></pre></div>

<p>然后使用<code>git status</code>查看冲突文件.</p>
<p>在文件中冲突的地方, git会添加类似如下的标记.</p>
<blockquote>
<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; destination-branch-name<br>
...changes from the destination branch...<br>
=======<br>
...changes from the source branch...<br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt; source-branch-name  </p>
</blockquote>
<p>要处理冲突, 首先要移除标记, 然后编辑冲突内容(如只保留一个, 或其他处理方式), 最后add file, 提交commit.</p>
<p><br></p>
<h2>Chapter 5, 'Collaborating'.</h2>
<p><br></p>
<h3>How can I create a brand new repository?</h3>
<p><code>git init project-name</code></p>
<p><br></p>
<h3>How can I turn an existing project into a Git repository?</h3>
<p><code>`git init path</code></p>
<p><br></p>
<h3>How can I create a copy of an existing repository?</h3>
<p><code>git clone URL</code></p>
<p><code>git clone /path/to/project</code></p>
<p><code>git clone /project/name newprojectname</code></p>
<p><br></p>
<h3>How can I find out where a cloned repository originated?</h3>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>remote
git<span class="w"> </span>remote<span class="w"> </span>-v
</code></pre></div>

<p><br></p>
<h3>How can I define remotes?</h3>
<p>You can connect any two Git repositories this way</p>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>remote<span class="w"> </span>add<span class="w"> </span>remote-name<span class="w"> </span>URL
git<span class="w"> </span>remote<span class="w"> </span>rm<span class="w"> </span>remote-name
</code></pre></div>

<p><br></p>
<h3>How can I pull in changes from a remote repository?</h3>
<p><code>git pull remote branch</code>
<br></p>
<h3>What happens if I try to pull when I have unsaved changes?</h3>
<p>commit or revert local changes</p>
<h3>How can I push my changes to a remote repository?</h3>
<p><code>git push remote-name branch-name</code></p>
<h3>What happens if my push conflicts with someone else's work?</h3>
<p>先pull到本地, 解决冲突, 再push.</p>
    </div><!-- /.entry-content -->


  </article>


</section>

<div id="comments">
  <h2 style="margin-top: 0.1rem;">Comments !</h2>
  <div id="gitalk-container"></div>
</div>
<script>
  var gitalk = new Gitalk({
    clientID: '4dfbf5aad180623dc634',
    clientSecret: '4c7167883746062103d9dbc2ec8b1ddfd6780d58',
    repo: 'steermomo.github.io',
    owner: 'steermomo',
    admin: ['steermomo'],
    id: location.pathname,      // Ensure uniqueness and length less than 50
    distractionFreeMode: false,  // Facebook-like distraction free mode
    createIssueManually: true,
  })
  gitalk.render('gitalk-container')
</script>
        <section id="extras" class="body">
        </section><!-- /#extras -->
<footer id="contentinfo" class="body">
  <address id="about" class="vcard body">
    Copyright © 2024
    </br>
    Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a
      href="http://python.org">Python</a>.
  </address>

  <!-- /#about -->


</footer><!-- /#contentinfo -->



</body>

</html>