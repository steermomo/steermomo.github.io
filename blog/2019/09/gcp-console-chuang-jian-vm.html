<!DOCTYPE html>
<html lang="en">

<head>
        <meta name="google-site-verification" content="d0pvXqLPH8JyCfWVyhZ7njhGUndRFIR95YM3myMb7rU" />
        <meta charset="utf-8" />
        <meta http-equiv="Cache-Control" content="no-transform" />
        <meta http-equiv="Cache-Control" content="no-siteapp" />
        <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=yes" />
        <title>GCP console åˆ›å»ºVM</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
        <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>


        <link rel="stylesheet" href="//unpkg.com/heti/umd/heti.min.css">

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <!-- <h1><a href="/">steer </a></h1> -->
                <nav>
                        <ul>
                                <li><a href="/">ğŸ¦‰</a></li>
                                <li><a href="/blog">Blog</a></li>
                                <li><a href="/archives">Archives</a></li>
                                <li><a href="/gallery">Gallery</a></li>
                                <li id="navName">steer </li>
                        </ul>
                </nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/blog/2019/09/gcp-console-chuang-jian-vm" rel="bookmark" title="Permalink to GCP console åˆ›å»ºVM">GCP console åˆ›å»ºVM</a>
      </h1>
    </header>

    <div class="entry-content">
<div class="post-meta">
        Date: <span >
               2019-09-18 Wed
        </span>
<span>Category: <a href="/category/gcp/">GCP</a></span>
<!-- <p>tags: <a href="/tags/gcp/">GCP</a> </p> -->

</div><!-- /.post-info -->

      <p>å‘½ä»¤æ ¹æ®<a href="https://course.fast.ai/start_gcp.html">fastai GCP setup</a>, å¹¶é’ˆå¯¹æˆ‘çš„ä»»åŠ¡è¿›è¡Œäº†ä¿®æ”¹ã€‚</p>
<p>Google Cloudâ€™s command line interface (CLI)å®‰è£…é…ç½®éƒ¨åˆ†è§<a href="https://course.fast.ai/start_gcp.html">fastai GCP setup</a></p>
<p>å¦å¤–å› ä¸ºç«æ˜Ÿç½‘ç»œç¯å¢ƒä¸å¤Ÿç¨³å®š, æˆ‘åœ¨wslä¸­é…ç½®äº†proxychains4, è¿åˆ°Windowsä¸»æœºçš„sock5ä»£ç†.</p>
<p>åˆ›å»ºæŠ¢å å¼å®ä¾‹</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">IMAGE_FAMILY</span><span class="o">=</span><span class="s2">&quot;pytorch-latest-gpu&quot;</span><span class="w"> </span><span class="c1"># or &quot;pytorch-latest-cpu&quot; for non-GPU instances</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">ZONE</span><span class="o">=</span><span class="s2">&quot;asia-southeast1-b&quot;</span><span class="w"> </span><span class="c1"># budget: &quot;us-west1-b&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">INSTANCE_NAME</span><span class="o">=</span><span class="s2">&quot;kaggle-rsna&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">INSTANCE_TYPE</span><span class="o">=</span><span class="s2">&quot;n1-highmem-8&quot;</span><span class="w"> </span><span class="c1"># budget: &quot;n1-highmem-4&quot;</span>

<span class="c1"># budget: &#39;type=nvidia-tesla-k80,count=1&#39;</span>
proxychains4<span class="w"> </span>gcloud<span class="w"> </span>compute<span class="w"> </span>instances<span class="w"> </span>create<span class="w"> </span><span class="nv">$INSTANCE_NAME</span><span class="w"> </span>--zone<span class="o">=</span><span class="nv">$ZONE</span><span class="w"> </span>--image-family<span class="o">=</span><span class="nv">$IMAGE_FAMILY</span><span class="w"> </span>--image-project<span class="o">=</span>deeplearning-platform-release<span class="w"> </span>--maintenance-policy<span class="o">=</span>TERMINATE<span class="w">  </span>--accelerator<span class="o">=</span><span class="s2">&quot;type=nvidia-tesla-p4,count=1&quot;</span><span class="w">  </span>--machine-type<span class="o">=</span><span class="nv">$INSTANCE_TYPE</span><span class="w">  </span>--boot-disk-size<span class="o">=</span>800GB<span class="w"> </span>--metadata<span class="o">=</span><span class="s2">&quot;install-nvidia-driver=True&quot;</span><span class="w"> </span>--preemptible
</code></pre></div>

<p>åˆ›å»ºå®Œæˆä¹‹å, sshè¿æ¥ä¸Šå»å¹¶å¼€å¯ç«¯å£è½¬å‘, åˆ›å»ºçš„ä¸»æœºé»˜è®¤æœ‰<code>jupyter</code>ç”¨æˆ·, å¹¶ä¸”åœ¨<code>8080</code>ç«¯å£å¼€äº†jupyter lab. è¿™é‡Œå°±ç”¨<code>jupyter</code>ç”¨æˆ·è¿ä¸Šå», å¹¶å¼€å¯æœ¬åœ°ç«¯å£è½¬å‘.</p>
<div class="highlight"><pre><span></span><code>proxychains4<span class="w"> </span>gcloud<span class="w"> </span>beta<span class="w"> </span>compute<span class="w"> </span>--project<span class="w"> </span><span class="s2">&quot;limongty&quot;</span><span class="w"> </span>ssh<span class="w"> </span>--zone<span class="w"> </span><span class="s2">&quot;asia-southeast1-b&quot;</span><span class="w"> </span>jupyter@<span class="s2">&quot;kaggle-rsna&quot;</span><span class="w"> </span>--<span class="w"> </span>-L<span class="w"> </span><span class="m">8080</span>:localhost:8080
</code></pre></div>

<p>è¿æ¥æˆåŠŸåæœ¬åœ°æµè§ˆå™¨æ‰“å¼€<code>localhost:8080</code>å¯ä»¥ä½¿ç”¨è¿œç¨‹ç¯å¢ƒ.</p>
    </div><!-- /.entry-content -->


  </article>


</section>

<div id="comments">
  <h2 style="margin-top: 0.1rem;">Comments !</h2>
  <div id="gitalk-container"></div>
</div>
<script>
  var gitalk = new Gitalk({
    clientID: '4dfbf5aad180623dc634',
    clientSecret: '4c7167883746062103d9dbc2ec8b1ddfd6780d58',
    repo: 'steermomo.github.io',
    owner: 'steermomo',
    admin: ['steermomo'],
    id: location.pathname,      // Ensure uniqueness and length less than 50
    distractionFreeMode: false,  // Facebook-like distraction free mode
    createIssueManually: true,
  })
  gitalk.render('gitalk-container')
</script>
        <section id="extras" class="body">
        </section><!-- /#extras -->
<footer id="contentinfo" class="body">
  <address id="about" class="vcard body">
    Copyright Â© 2024
    </br>
    Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a
      href="http://python.org">Python</a>.
  </address>

  <!-- /#about -->


</footer><!-- /#contentinfo -->



</body>

</html>