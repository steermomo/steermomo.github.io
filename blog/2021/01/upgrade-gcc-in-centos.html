<!DOCTYPE html>
<html lang="en">

<head>
        <meta name="google-site-verification" content="d0pvXqLPH8JyCfWVyhZ7njhGUndRFIR95YM3myMb7rU" />
        <meta charset="utf-8" />
        <meta http-equiv="Cache-Control" content="no-transform" />
        <meta http-equiv="Cache-Control" content="no-siteapp" />
        <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=yes" />
        <title>CentOSä¸­æ›´æ–°GCC</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
        <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>


        <link rel="stylesheet" href="//unpkg.com/heti/umd/heti.min.css">

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <!-- <h1><a href="/">steer </a></h1> -->
                <nav>
                        <ul>
                                <li><a href="/">ğŸ¦‰</a></li>
                                <li><a href="/blog">Blog</a></li>
                                <li><a href="/archives">Archives</a></li>
                                <li><a href="/gallery">Gallery</a></li>
                                <li id="navName">steer </li>
                        </ul>
                </nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/blog/2021/01/upgrade-gcc-in-centos" rel="bookmark" title="Permalink to CentOSä¸­æ›´æ–°GCC">CentOSä¸­æ›´æ–°GCC</a>
      </h1>
    </header>

    <div class="entry-content">
<div class="post-meta">
        Date: <span >
               2021-01-28 Thu
        </span>
<span>Category: <a href="/category/coding/">Coding</a></span>
<!-- <p>tags: <a href="/tags/centos/">CentOS</a> <a href="/tags/gcc/">GCC</a> <a href="/tags/scl/">SCL</a> </p> -->

</div><!-- /.post-info -->

      <!-- Status: draft -->

<p>å‚é‡Œçš„ç³»ç»Ÿéƒ½æ˜¯åŸºäºCentOS çš„ï¼Œå°±æ˜¯é‚£ä¸ª</p>
<blockquote>
<p>One centOS å€’ä¸‹äº†ï¼ŒTen centOS èµ·æ¥äº†</p>
</blockquote>
<p>çš„CentOS ã€‚</p>
<p>è¿™ç©æ„çš„é—®é¢˜å°±æ˜¯å®ƒå®åœ¨æ˜¯å¤ªè€äº†ï¼Œæˆ‘è¦è£…ä¸€ä¸‹xgboostç¼–è¯‘éƒ½ä¸æˆåŠŸã€‚</p>
<p>çœ‹äº†ä¸€ä¸‹ç›®å‰GCCçš„ç‰ˆæœ¬è¿˜æ˜¯<code>4.8.5</code>, è€ŒGCCéƒ½å‡ºåˆ°<code>10.2</code>äº†<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup>, çœŸå¿ƒç©¿è¶Šåƒå¹´çš„çˆ±æ‹ã€‚</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>gcc<span class="w"> </span>-v
Using<span class="w"> </span>built-in<span class="w"> </span>specs.
<span class="nv">COLLECT_GCC</span><span class="o">=</span>gcc
<span class="nv">COLLECT_LTO_WRAPPER</span><span class="o">=</span>/usr/libexec/gcc/x86_64-redhat-linux/4.8.5/lto-wrapper
Target:<span class="w"> </span>x86_64-redhat-linux
Configured<span class="w"> </span>with:<span class="w"> </span>../configure<span class="w"> </span>--prefix<span class="o">=</span>/usr<span class="w"> </span>--mandir<span class="o">=</span>/usr/share/man<span class="w"> </span>--infodir<span class="o">=</span>/usr/share/info<span class="w"> </span>--with-bugurl<span class="o">=</span>http://bugzilla.redhat.com/bugzilla<span class="w"> </span>--enable-bootstrap<span class="w"> </span>--enable-shared<span class="w"> </span>--enable-threads<span class="o">=</span>posix<span class="w"> </span>--enable-checking<span class="o">=</span>release<span class="w"> </span>--with-system-zlib<span class="w"> </span>--enable-__cxa_atexit<span class="w"> </span>--disable-libunwind-exceptions<span class="w"> </span>--enable-gnu-unique-object<span class="w"> </span>--enable-linker-build-id<span class="w"> </span>--with-linker-hash-style<span class="o">=</span>gnu<span class="w"> </span>--enable-languages<span class="o">=</span>c,c++,objc,obj-c++,java,fortran,ada,go,lto<span class="w"> </span>--enable-plugin<span class="w"> </span>--enable-initfini-array<span class="w"> </span>--disable-libgcj<span class="w"> </span>--with-isl<span class="o">=</span>/root/rpmbuild/BUILD/gcc-4.8.5-20150702/obj-x86_64-redhat-linux/isl-install<span class="w"> </span>--with-cloog<span class="o">=</span>/root/rpmbuild/BUILD/gcc-4.8.5-20150702/obj-x86_64-redhat-linux/cloog-install<span class="w"> </span>--enable-gnu-indirect-function<span class="w"> </span>--with-tune<span class="o">=</span>generic<span class="w"> </span>--with-arch_32<span class="o">=</span>x86-64<span class="w"> </span>--build<span class="o">=</span>x86_64-redhat-linux
Thread<span class="w"> </span>model:<span class="w"> </span>posix
gcc<span class="w"> </span>version<span class="w"> </span><span class="m">4</span>.8.5<span class="w"> </span><span class="m">20150623</span><span class="w"> </span><span class="o">(</span>Red<span class="w"> </span>Hat<span class="w"> </span><span class="m">4</span>.8.5-5<span class="o">)</span><span class="w"> </span><span class="o">(</span>GCC<span class="o">)</span>
</code></pre></div>

<p>è¿™ä¸ªç›´æ¥upgradeä¹Ÿæ˜¯ä¸æˆåŠŸæ»´ï¼Œå‹æ ¹æ²¡æœ‰æ–°ç‰ˆæœ¬å¯ä»¥å‡ï¼Œç³»ç»Ÿçš„ç‰ˆæœ¬éƒ½å¤ªè€äº†ã€‚</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>/etc/centos-release
CentOS<span class="w"> </span>Linux<span class="w"> </span>release<span class="w"> </span><span class="m">7</span>.2<span class="w"> </span><span class="o">(</span>Final<span class="o">)</span>
</code></pre></div>

<p>æœ¬ç€é‡äº‹ä¸å†³ä¸Šstackoverflowçš„åŸåˆ™ï¼Œåœ¨SOä¸Šä¹Ÿæ‰¾åˆ°äº†ä¸€ä¸ªä¾‹å­<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup>ï¼Œå¯æƒœçš„æ˜¯ç¬¬äºŒä¸ªå‘½ä»¤è¿è¡Œä¸èµ·æ¥ã€‚
æ ¹æ®å‘æœ¬æ–‡æ—¶çš„è½¯ä»¶çŠ¶å†µä»¥åŠæœ¬æœºç¯å¢ƒï¼Œè¿™é‡Œéœ€è¦å…ˆå®‰è£…Software Collections (SCL)ï¼Œå†å®‰è£…devtoolset-8ã€‚</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>yum<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>centos-release-scl
sudo<span class="w"> </span>yum<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>devtoolset-8
scl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>devtoolset-8<span class="w"> </span>bash
which<span class="w"> </span>gcc
gcc<span class="w"> </span>--version
</code></pre></div>

<p>è¿™æ ·è£…å®Œä¹‹åå°±èƒ½ç”Ÿæ•ˆäº†ï¼Œå¯ä»¥çœ‹åˆ°GCCçš„ç‰ˆæœ¬å·²ç»å˜äº†</p>
<div class="highlight"><pre><span></span><code>gcc<span class="w"> </span><span class="o">(</span>GCC<span class="o">)</span><span class="w"> </span><span class="m">8</span>.3.1<span class="w"> </span><span class="m">20190311</span><span class="w"> </span><span class="o">(</span>Red<span class="w"> </span>Hat<span class="w"> </span><span class="m">8</span>.3.1-3<span class="o">)</span>
Copyright<span class="w"> </span><span class="o">(</span>C<span class="o">)</span><span class="w"> </span><span class="m">2018</span><span class="w"> </span>Free<span class="w"> </span>Software<span class="w"> </span>Foundation,<span class="w"> </span>Inc.
This<span class="w"> </span>is<span class="w"> </span>free<span class="w"> </span>software<span class="p">;</span><span class="w"> </span>see<span class="w"> </span>the<span class="w"> </span><span class="nb">source</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>copying<span class="w"> </span>conditions.<span class="w">  </span>There<span class="w"> </span>is<span class="w"> </span>NO
warranty<span class="p">;</span><span class="w"> </span>not<span class="w"> </span>even<span class="w"> </span><span class="k">for</span><span class="w"> </span>MERCHANTABILITY<span class="w"> </span>or<span class="w"> </span>FITNESS<span class="w"> </span>FOR<span class="w"> </span>A<span class="w"> </span>PARTICULAR<span class="w"> </span>PURPOSE.
</code></pre></div>

<p>å†å®‰è£…XGBoostï¼Œç»ˆäºæˆåŠŸäº†ã€‚</p>
<h3>å°ç»“</h3>
<p>æ ¹æ®CentOSçš„wiki<sup id="fnref:3"><a class="footnote-ref" href="#fn:3">3</a></sup>, SCLæ˜¯æŒ‡è½¯ä»¶é€‰é›†(Software Collections, SCL), SCLçš„ç›®çš„å°±æ˜¯ä¸ºè€æ—§çš„CentOSæä¾›æ–°ç‰ˆçš„è½¯ä»¶é›†, 
å®‰è£…å®ŒSCLå’Œéœ€è¦çš„è½¯ä»¶é›†åï¼Œå¯åŠ¨ç¯å¢ƒçš„å‘½ä»¤æ˜¯</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>scl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>&lt;scl-package-name&gt;<span class="w"> </span>&lt;command&gt;
</code></pre></div>

<p>åœ¨å‰é¢çš„ä¾‹å­ä¸­, è¦åœ¨å¤šä¸ªå‘½ä»¤ä¸‹éƒ½å¯åŠ¨GCCçš„ç¯å¢ƒ, ä½¿ç”¨çš„å°±æ˜¯è°ƒèµ·bash, åœ¨æ–°çš„shellå†…æ‰§è¡Œ.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>scl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>devtoolset-8<span class="w"> </span>bash
</code></pre></div>

<p>è¦æ£€æŸ¥å·²ç»å®‰è£…çš„SCLé›†åˆï¼Œå¯ä»¥ç”¨</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>scl<span class="w"> </span>--list
</code></pre></div>

<p>æ›´å¤šçš„ä¿¡æ¯å¯ä»¥çœ‹SCLçš„QuickStartæŒ‡å¼•<sup id="fnref:4"><a class="footnote-ref" href="#fn:4">4</a></sup>ä»¥åŠXmoduloçš„ä»‹ç»<sup id="fnref:5"><a class="footnote-ref" href="#fn:5">5</a></sup>ã€‚</p>
<div class="footnote">
<hr>
<ol>
<li id="fn:1">
<p>https://gcc.gnu.org/&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>https://stackoverflow.com/questions/36327805/how-to-install-gcc-5-3-with-yum-on-centos-7-2&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<p>https://wiki.centos.org/zh/AdditionalResources/Repositories/SCL&#160;<a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:4">
<p>https://www.softwarecollections.org/en/docs/&#160;<a class="footnote-backref" href="#fnref:4" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:5">
<p>https://www.xmodulo.com/enable-software-collections-centos.html&#160;<a class="footnote-backref" href="#fnref:5" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
</ol>
</div>
    </div><!-- /.entry-content -->


  </article>


</section>

<div id="comments">
  <h2 style="margin-top: 0.1rem;">Comments !</h2>
  <div id="gitalk-container"></div>
</div>
<script>
  var gitalk = new Gitalk({
    clientID: '4dfbf5aad180623dc634',
    clientSecret: '4c7167883746062103d9dbc2ec8b1ddfd6780d58',
    repo: 'steermomo.github.io',
    owner: 'steermomo',
    admin: ['steermomo'],
    id: location.pathname,      // Ensure uniqueness and length less than 50
    distractionFreeMode: false,  // Facebook-like distraction free mode
    createIssueManually: true,
  })
  gitalk.render('gitalk-container')
</script>
        <section id="extras" class="body">
        </section><!-- /#extras -->
<footer id="contentinfo" class="body">
  <address id="about" class="vcard body">
    Copyright Â© 2024
    </br>
    Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a
      href="http://python.org">Python</a>.
  </address>

  <!-- /#about -->


</footer><!-- /#contentinfo -->



</body>

</html>