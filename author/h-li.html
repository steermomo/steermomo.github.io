<!DOCTYPE html>
<html lang="en">

<head>
        <meta name="google-site-verification" content="d0pvXqLPH8JyCfWVyhZ7njhGUndRFIR95YM3myMb7rU" />
        <meta charset="utf-8" />
        <meta http-equiv="Cache-Control" content="no-transform" />
        <meta http-equiv="Cache-Control" content="no-siteapp" />
        <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=yes" />
        <title>steer - H Li</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
        <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>


        <link rel="stylesheet" href="//unpkg.com/heti/umd/heti.min.css">

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <!-- <h1><a href="/">steer </a></h1> -->
                <nav>
                        <ul>
                                <li><a href="/">🦉</a></li>
                                <li><a href="/blog">Blog</a></li>
                                <li><a href="/archives">Archives</a></li>
                                <li><a href="/gallery">Gallery</a></li>
                                <li id="navName">steer </li>
                        </ul>
                </nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="/blog/2021/09/magisk-boot-loop">Magisk Patch boot.img 后无法启动(循环卡米)</a></h1>
<div class="post-meta">
        Date: <span >
               2021-09-05 Sun
        </span>
<span>Category: <a href="/category/misc/">MISC</a></span>
<!-- <p>tags: <a href="/tags/android/">Android</a> <a href="/tags/magisk/">Magisk</a> </p> -->

</div><!-- /.post-info -->                    <p>记录一下MIUI12 刷入Magisk后关闭校验。</p>
<h2>Magisk Patch boot.img 并刷入修改后的boot.img</h2>
<p>从卡刷包内提取boot.img，放到手机的目录内，使用 Magisk 对其打补丁<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup></p>
<ol>
<li>点击Magisk卡片上的安装按钮</li>
<li>选择 “选择并修补一个文件”，点击开始后选择提取的boot.img</li>
<li>Magisk会对boot.img打补丁后存储到[Internal Storage]/Download/magisk_patched_[random_strings].img</li>
<li>让设备进入到fastboot状态，在PC端刷入修改后的 boot.img</li>
</ol>
<div class="highlight"><pre><span></span><code>fastboot flash boot /path/to/magisk_patched.img
</code></pre></div>

<h2>关闭 avb2.0校验</h2>
<p>部分设备在刷入修改的boot.img后，会卡在无限重启，需要关闭avb2.0校验。</p>
<p>从卡刷包内提取vbmeta.img，直接刷入即可。</p>
<div class="highlight"><pre><span></span><code>fastboot --disable-verity --disable-verification flash vbmeta vbmeta.img
</code></pre></div>

<div class="footnote">
<hr>
<ol>
<li id="fn:1">
<p>https://topjohnwu.github.io/Magisk/install.html&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>
                    <!--  -->
                </article>
            </aside><!-- /#featured -->
            <!--                 <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">
 -->
        








        <section id="extras" class="body">
        </section><!-- /#extras -->



</body>

</html>